{% import "macros/mission-card.html" as macros %}
{% extends "base.html" %}
{% block title %}home{% endblock %}
{% block content %}
<div class='w-full h-full'>
	<section id='hero' class='container mx-auto mt-8 px-4 space-y-4'>
		<h1 class='text-3xl text-primary-700 capitalize font-extrabold'>
			{{_('hero title')}}
		</h1>
		<p>{{_('hero description')}}</p>
		<button class='py-2 px-4 text-white font-bold bg-primary-700 capitalize rounded-lg'>{{_('join us')}}</button>
		<img src="{{url_for('static',filename='imgs/hero.jpeg')}}" alt="hero image"/>
	</section>
	<section id='mission' class='mt-8 px-4 py-8'>
		<div class='container mx-auto flex flex-col justify-center items-center gap-2 '>
			<h2 class='me-auto mb-6 text-3xl text-primary-700 capitalize font-extrabold'>
				{{_('mission title')}}
			</h2>
			<div class='w-full flex flex-col gap-2 items-center md:flex-row md:justify-between'>
				{{macros.mission_card(
				title=_("mission 1 title"),
				desc=_("mission 1 desc"),
				from='from-red-950',
				to='to-red-400/80',
				cls='-translate-x-9 sm:translate-x-0'
				)}}
				{{macros.mission_card(
				title=_("mission 2 title"),
				desc=_("mission 2 desc"),
				gradient_dir='bg-gradient-to-br',
				from='from-primary-300/80',
				to='to-red-700/80',
				cls='translate-x-6 -translate-y-12 sm:translate-y-0 sm:translate-x-0'
				)}}
			</div>
			<div class='w-full flex flex-col gap-2 items-center md:flex-row md:justify-around'>
				{{macros.mission_card(
				title=_("mission 3 title"),
				desc=_("mission 3 desc"),
				gradient_dir='bg-gradient-to-t',
				from='from-primary-100/80',
				to='to-red-500/80',
				cls='-translate-x-6 -translate-y-24 sm:translate-y-0 sm:translate-x-0'
				)}}
				{{macros.mission_card(
				title=_("mission 4 title"),
				desc=_("mission 4 desc"),
				gradient_dir='bg-gradient-to-t',
				from='from-primary-300/80',
				to='to-red-700/80',
				cls='translate-x-9 -translate-y-36 sm:translate-y-0 sm:translate-x-0'
				)}}
			</div>
		</div>
	</section>
	<section id='our_story' class='flex items-center px-4 py-8 bg-cover bg-center bg-no-repeat sm:bg-[50%_20%] sm:min-h-[500px]'>
			<div class='container mx-auto'>
				<h2 class='mb-6 text-3xl text-white capitalize font-extrabold'>{{_("our story")}}</h2>
				<p class='text-white sm:max-w-[70%]'>{{_("our story desc")}}</p>
			</div>
	</section>
	<section id='our_vision' class='container mx-auto flex flex-wrap px-4 py-8'>
		<h2 class='basis-full mb-6 text-3xl font-extrabold capitalize'>{{_("our vission")}}</h2>
		<div class='basis-full sm:basis-1/4'>
			<img class='max-w-[50%] mx-auto sm:max-w-[auto]' src="{{url_for('static',filename='icons/advance.svg')}}" alt="advance icon"/>
			<p class='max-w-[90%] mx-auto text-center'>{{_("vision 1")}}</p>
		</div>
		<div class='basis-full text-center sm:basis-1/4'>
			<img class='max-w-[50%] mx-auto sm:max-w-[auto]' src="{{url_for('static',filename='icons/build_capacity.svg')}}" alt="build capacity icon"/>
			<p class='max-w-[90%] mx-auto text-center'>{{_("vision 2")}}</p>
		</div>
		<div class='basis-full text-center sm:basis-1/4'>
			<img class='max-w-[50%] mx-auto sm:max-w-[auto]' src="{{url_for('static',filename='icons/Amplify.svg')}}" alt="amplify icon"/>
			<p class='max-w-[90%] mx-auto text-center'>{{_("vision 3")}}</p>
		</div>
		<div class='basis-full text-center sm:basis-1/4'>
			<img class='max-w-[50%] mx-auto sm:max-w-[auto]' src="{{url_for('static',filename='icons/Solidarity.svg')}}" alt="solidarity icon"/>
			<p class='max-w-[90%] mx-auto text-center'>{{_("vision 4")}}</p>
		</div>
	</section>
	<section id='news' class='container mx-auto px-4 py-8'>
		<div class='w-full flex justify-between'>
			<h2 class='mb-6 text-3xl font-extrabold capitalize'>{{_("news")}}</h2>
			<div class='flex gap-4'>
				<span id='left-arrow' class='size-10 p-2 bg-black rounded-full'>
					<img
							class='size-6 {% if locale == 'ar' %}rotate-180{% endif %}'
							src="{{url_for('static',filename='icons/left-arrow.svg')}}"
							alt="left arrow"
							/>
				</span>
				<span id='right-arrow' class='size-10 p-2 bg-black rounded-full'>
					<img
							class='size-6 {% if locale == 'ar' %}rotate-180{% endif %}'
							src="{{url_for('static',filename='icons/right-arrow.svg')}}"
							alt="rightarrow"
							/>
				</span>
			</div>
		</div>
		<div id='carousel' class='relative flex gap-6 overflow-hidden'>
			<div class='shrink-0 w-[200px] h-[300px] bg-black'></div>
			<div class='shrink-0 w-[200px] h-[300px] bg-white'></div>
			<div class='shrink-0 w-[200px] h-[300px] bg-red-300'></div>
			<div class='shrink-0 w-[200px] h-[300px] bg-blue-300'></div>
		</div>
	</section>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
	// WARNING: if you try declare the variable as (let/const)
	// an error will occur, reason is unknown
	var burgerMenu = document.getElementById('menu-burger');

	// menu toggle
	burgerMenu.addEventListener('click', function() {
		burgerMenu.children[0].classList.toggle('opacity-0');
		burgerMenu.children[1].classList.toggle('rotate-45');
		burgerMenu.children[2].classList.toggle('-rotate-45');
		burgerMenu.children[2].classList.toggle('-translate-y-[195%]');
		document.getElementById('menu-container').classList.toggle('-translate-y-full');

		for (const elem of burgerMenu.children){
			elem.classList.toggle('bg-primary-700');
			elem.classList.toggle('bg-white');
		}

	});

	// language switcher
	document.addEventListener('htmx:afterRequest', function(evt) {
		const path = evt.detail.pathInfo.requestPath;
		if (path.match('set_language') && evt.detail.successful) {
			const locale =path.match('(?<=lang=)[a-z]{2}')[0];
			document.documentElement.lang =  locale;
			if (locale === 'ar') {
				document.dir = 'rtl';
			} else {
				document.dir = 'ltr';
			}
		}
	})

	// initial page load
	document.addEventListener('DOMContentLoaded', function() {
		const locale = document.documentElement.lang;
		if (locale === 'ar') {
			document.dir = 'rtl';
		} else {
			document.dir = 'ltr';
		}
	})
</script>
{% endblock %}
