<!-- Knowledge Hub Tab -->
<div
    id="kh-container"
    class="bg-primary-50 rounded-xl shadow-sm transition-all duration-200"
>
    <!-- Header Section -->
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-gray-900">
            {{ _("knowledge_hub") }}
        </h2>
    </div>

    <!-- Navigation Tabs for Knowledge Hub -->
    <nav
        class="flex justify-between mb-6 border-b border-gray-200 sm:justify-normal sm:gap-4"
    >
        <!-- Courses Tab -->
        <button
            class="py-2 text-sm font-medium rounded-t-lg transition-all duration-200 hover:bg-primary-100 focus:ring-2 focus:ring-primary-500 focus:outline-none text-primary-700 bg-transparent sm:px-4 aria-selected:bg-primary-200"
            hx-get="/dashboard/knowledge-hub?tab=courses"
            hx-target="#kh-content"
            hx-swap="innerHTML"
            hx-headers='{"hx-tab": "true"}'
            role="kh-tab"
            aria-selected="true"
        >
            {{ _("courses") }}
        </button>

        <!-- Researches Tab -->
        <button
            class="py-2 text-sm font-medium rounded-t-lg transition-all duration-200 hover:bg-primary-100 focus:ring-2 focus:ring-primary-500 focus:outline-none text-primary-700 bg-transparent sm:px-4 aria-selected:bg-primary-200"
            hx-get="/dashboard/knowledge-hub?tab=researches"
            hx-target="#kh-content"
            hx-swap="innerHTML"
            hx-headers='{"hx-tab": "true"}'
            role="kh-tab"
            aria-selected="false"
        >
            {{ _("researches") }}
        </button>

        <!-- Podcasts Tab -->
        <button
            class="py-2 text-sm font-medium rounded-t-lg transition-all duration-200 hover:bg-primary-100 focus:ring-2 focus:ring-primary-500 focus:outline-none text-primary-700 bg-transparent sm:px-4 aria-selected:bg-primary-200"
            hx-get="/dashboard/knowledge-hub?tab=podcasts"
            hx-target="#kh-content"
            hx-swap="innerHTML"
            hx-headers='{"hx-tab": "true"}'
            role="kh-tab"
            aria-selected="false"
        >
            {{ _("podcasts") }}
        </button>
    </nav>

    <!-- Content Area for Knowledge Hub -->
    <div id="kh-content">
        {% include 'partials/dashboard/knowledge_hub/courses.html' %}
    </div>
</div>

<script charset="utf-8">
    document.querySelectorAll('[role="kh-tab"]').forEach((tab) => {
        tab.addEventListener('click', (e) => {
            const tabs = document.querySelectorAll('[role="kh-tab"]')
            tabs.forEach((t) => {
                t.setAttribute('aria-selected', 'false')
                t.classList.remove('bg-primary-200')
            })
            tab.setAttribute('aria-selected', 'true')
            tab.classList.add('bg-primary-200')
        })
    })
</script>
